Metoder og funktioner er centrale elementer i programmering, der gør det muligt at organisere og genbruge kode på en struktureret måde. I C# er en metode en blok af kode, der udfører en specifik opgave og kan kaldes fra andre dele af programmet. Metoder kan tage input i form af parametre og kan returnere en værdi.

### Grundlæggende om Metoder

En metode i C# består af følgende dele:

1. **Adgangsmodifikator**: Bestemmer synligheden af metoden (f.eks. `public`, `private`).
2. **Returtype**: Typen af værdi, metoden returnerer (`void` hvis den ikke returnerer noget).
3. **Metodenavn**: Navnet på metoden.
4. **Parametre**: En liste over inputparametre, metoden tager (kan være tom).
5. **Metodekrop**: Blokken af kode, som definerer, hvad metoden gør.

**Eksempel på en simpel metode**

```csharp
using System;

class Program
{
    // Adgangsmodifikator: public
    // Returtype: void
    // Metodenavn: SayHello
    public void SayHello()
    {
        Console.WriteLine("Hello, World!");
    }

    static void Main()
    {
        Program program = new Program();
        program.SayHello(); // Kalder metoden SayHello
    }
}

```

### Metoder med Parametre

Metoder kan tage parametre for at modtage input, der bruges inden i metoden.

**Eksempel på en metode med parametre**

```csharp
using System;

class Program
{
    // Metoden tager to int-parametre og returnerer deres sum
    public int Add(int a, int b)
    {
        return a + b;
    }

    static void Main()
    {
        Program program = new Program();
        int result = program.Add(5, 3); // Kalder metoden Add med parametrene 5 og 3
        Console.WriteLine("Resultat: " + result); // Udskriver: Resultat: 8
    }
}

```

### **Metoder med Returværdier**

Metoder kan returnere værdier, der kan bruges andre steder i programmet.

**Eksempel på en metode med returværdi**

```csharp
using System;

class Program
{
    // Metoden returnerer en streng
    public string GetGreeting(string name)
    {
        return "Hello, " + name + "!";
    }

    static void Main()
    {
        Program program = new Program();
        string greeting = program.GetGreeting("Alice"); // Kalder metoden GetGreeting med parameteren "Alice"
        Console.WriteLine(greeting); // Udskriver: Hello, Alice!
    }
}

```

### Overloading af Metoder

Metoder kan overloade, hvilket betyder, at du kan have flere metoder med samme navn men forskellige parametre.

**Eksempel på overloading**

```csharp
using System;

class Program
{
    // To overloads af metoden Print, én tager en int og én tager en string
    public void Print(int number)
    {
        Console.WriteLine("Nummer: " + number);
    }

    public void Print(string message)
    {
        Console.WriteLine("Besked: " + message);
    }

    static void Main()
    {
        Program program = new Program();
        program.Print(42); // Kalder den første overload af Print
        program.Print("Hello, World!"); // Kalder den anden overload af Print
    }
}

```

### Rekursive Metoder

En metode kan kalde sig selv, hvilket kaldes rekursion. Dette bruges ofte til at løse problemer, der kan opdeles i mindre delproblemer.

**Eksempel på en rekursiv metode (fakultet)**

```csharp
using System;

class Program
{
    // Rekursiv metode til at beregne fakultet
    public int Factorial(int n)
    {
        if (n <= 1)
        {
            return 1;
        }
        else
        {
            return n * Factorial(n - 1);
        }
    }

    static void Main()
    {
        Program program = new Program();
        int result = program.Factorial(5); // Kalder metoden Factorial med parameteren 5
        Console.WriteLine("Fakultet af 5 er: " + result); // Udskriver: Fakultet af 5 er: 120
    }
}
```

### Metoder med Valgfrie Parametre

C# tillader også metoder med valgfrie parametre, som giver standardværdier, hvis ingen værdi gives.

**Eksempel på metode med valgfrie parametre**

```csharp
using System;

class Program
{
    public void PrintMessage(string message, int times = 1)
    {
        for (int i = 0; i < times; i++)
        {
            Console.WriteLine(message);
        }
    }

    static void Main()
    {
        Program program = new Program();
        program.PrintMessage("Hello!"); // Udskriver "Hello!" én gang
        program.PrintMessage("Hello!", 3); // Udskriver "Hello!" tre gange
    }
}

```

### Hvornår er metoder smarte? Specielt I UI!

Metoder er afgørende, når vi udvikler en platform med en brugergrænseflade (UI) såsom [Blazor](https://www.notion.so/Blazor-db3407ecc592435984c8868c23d7152a?pvs=21), fordi de hjælper med at strukturere, genbruge og vedligeholde koden på en effektiv måde. Her er nogle grunde til, hvorfor metoder er vigtige i udviklingen af en UI-platform som Blazor:

**1. Modularitet og Genbrug**

Metoder gør det muligt at bryde store og komplekse funktionaliteter ned i mindre, mere håndterbare stykker. Dette kaldes modularitet. Ved at skrive metoder kan du genbruge den samme kode flere steder i din applikation uden at gentage den. Dette fører til:

- **Mindre kode duplikering**: Du kan skrive en metode én gang og kalde den mange steder.
- **Lettere vedligeholdelse**: Hvis der er en fejl eller en ændring, skal du kun opdatere koden ét sted.

**2. Læselighed og Klarhed**

Ved at bruge metoder kan du navngive stykker af din kode, hvilket gør den mere læsbar og lettere at forstå. Gode metodenavne kan beskrive, hvad metoden gør, hvilket hjælper andre (eller dig selv i fremtiden) med at forstå formålet med koden uden at skulle læse selve implementeringen.

**Opsummering**

Metoder og funktioner i C# er centrale for at organisere og genbruge kode. Ved at definere metoder kan du strukturere dit program på en måde, der gør det lettere at læse, vedligeholde og udvide. Metoder kan tage parametre, returnere værdier, overloade og endda kalde sig selv rekursivt. De kan være statiske eller instansmetoder, afhængigt af om de skal kaldes på klassen selv eller på en instans af klassen. Valgfrie parametre gør det muligt at give standardværdier, hvilket giver større fleksibilitet ved metodens kald.